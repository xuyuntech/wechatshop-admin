!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";function i(i,e){return"string"==typeof i&&"object"==typeof e&&t.each(e,function(t,e){i=i.replace("${"+String(t).toLowerCase()+"}",e)}),i}function e(i,o){this.$element=t(i),this.options=t.extend(!0,{},e.DEFAULTS,t.isPlainObject(o)&&o),this.loading=!1,this.init()}var o="qor.publish",s="click."+o;e.prototype={constructor:e,init:function(){this.$modal=t(i(e.MODAL,this.options.text)).appendTo("body"),this.bind()},bind:function(){this.$element.on(s,t.proxy(this.click,this))},unbind:function(){this.$element.off(s,this.click)},click:function(i){var e=this.options,o=t(i.target);if(o.is(e.toggleView)){if(i.preventDefault(),this.loading)return;this.loading=!0,this.$modal.find(".mdl-card__supporting-text").empty().load(o.data("url"),t.proxy(this.show,this))}else o.is(e.toggleCheck)&&(o.prop("disabled")||o.closest("table").find("tbody :checkbox").click())},show:function(){this.loading=!1,this.$modal.qorModal("show")},destroy:function(){this.unbind(),this.$element.removeData(o)}},e.DEFAULTS={toggleView:".qor-js-view",toggleCheck:".qor-js-check-all",text:{title:"Changes",close:"Close"}},e.MODAL='<div class="qor-modal fade" tabindex="-1" role="dialog" aria-hidden="true"><div class="mdl-card mdl-shadow--2dp" role="document"><div class="mdl-card__title mdl-card--border"><h2 class="mdl-card__title-text">${title}</h2></div><div class="mdl-card__supporting-text"></div><div class="mdl-card__actions mdl-card--border"><a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" data-dismiss="modal">${close}</a></div><div class="mdl-card__menu"><button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect" data-dismiss="modal" aria-label="close"><i class="material-icons">close</i></button></div></div></div>',e.plugin=function(i){return this.each(function(){var s,n,d=t(this),l=d.data(o);if(!l){if(/destroy/.test(i))return;s=t.extend(!0,{text:d.data("text")},"object"==typeof i&&i),d.data(o,l=new e(this,s))}"string"==typeof i&&t.isFunction(n=l[i])&&n.apply(l)})},t(function(){e.plugin.call(t(".qor-js-table"))})});